import{d as t,D as a,o as e,c as r,w as l,a as s,n as u,G as i,e as o,F as n,r as d,y as c,b as g,t as m,p as f,i as p,_ as v,k as y,l as _,m as h,E as x}from"./index-f30f5313.js";import{l as b,w as k,s as A,i as z,j as C,y as N,t as L,W as j,v as w,C as S,r as T,a as I,_ as R}from"./DemoPage.cf3c40e0.js";import{_ as D,a as H}from"./z-grid.18231d09.js";import"./useParent.17bb91a9.js";import"./useChildren.47d4431b.js";const P=v(t({name:"ZRollingTextItem",options:{virtualHost:!0},props:{figureArr:b(),delay:Number,duration:k(2),isStart:Boolean,direction:A("down"),height:k(40)},setup(t){const v=t,[y,_]=z("rolling-text-item");C(y);const h=a((()=>"down"===v.direction?v.figureArr.slice().reverse():v.figureArr)),x=a((()=>`-${v.height*(v.figureArr.length-1)}px`)),b=a((()=>({lineHeight:N(v.height)}))),k=a((()=>({height:N(v.height),"--z-translate":x.value,"--z-duration":v.duration+"s","--z-delay":v.delay+"s"})));return(t,a)=>{const y=p;return e(),r(y,{class:u(i(_)([v.direction])),style:c(k.value)},{default:l((()=>[s(y,{class:u(i(_)("box",{animate:v.isStart}))},{default:l((()=>[Array.isArray(h.value)?(e(!0),o(n,{key:0},d(h.value,((t,a)=>(e(),r(y,{key:a,class:u(i(_)("item")),style:c(b.value)},{default:l((()=>[g(m(t),1)])),_:2},1032,["class","style"])))),128)):f("",!0)])),_:1},8,["class"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-ff0fbf76"]]),O=v(t({name:"ZRollingText",options:{virtualHost:!0},props:{startNum:k(0),targetNum:Number,textList:b(),duration:k(2),autoStart:L,direction:A("down"),stopOrder:A("ltr"),height:k(40)},setup(t,{expose:s}){const[c,g]=z("rolling-text");C(c);const m=t,f=a((()=>Array.isArray(m.textList)&&m.textList.length)),v=a((()=>f.value?m.textList[0].length:`${Math.max(m.startNum,m.targetNum)}`.length)),h=t=>{const a=[];for(let e=0;e<m.textList.length;e++)a.push(m.textList[e][t]);return a},x=a((()=>f.value?new Array(v.value).fill(""):j(m.targetNum,v.value).split(""))),b=a((()=>j(m.startNum,v.value).split(""))),k=t=>{const a=+b.value[t],e=+x.value[t],r=[];for(let l=a;l<=9;l++)r.push(l);for(let l=0;l<=2;l++)for(let t=0;t<=9;t++)r.push(t);for(let l=0;l<=e;l++)r.push(l);return r},A=y(m.autoStart),N=()=>{A.value=!0},L=()=>{A.value=!1,m.autoStart&&S((()=>N()))};return _((()=>m.autoStart),(t=>{t&&N()})),w({start:N,reset:L}),s({start:N,reset:L}),(t,a)=>{const s=p;return e(),r(s,{class:u(i(g)())},{default:l((()=>[(e(!0),o(n,null,d(x.value,((t,a)=>{return e(),r(P,{key:a,"figure-arr":f.value?h(a):k(a),duration:m.duration,direction:m.direction,"is-start":A.value,height:m.height,delay:(l=a,s=v.value,"ltr"===m.stopOrder?.2*l:.2*(s-1-l))},null,8,["figure-arr","duration","direction","is-start","height","delay"]);var l,s})),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-0623da2f"]]),Z=v(t({__name:"rollingText",setup(t){const a=y(!1),u=y(!1),i=y(!1),o=y(!1),n=y(!1),d=y(["aaaaa","bbbbb","ccccc","ddddd","eeeee","fffff","ggggg"]),c=y(),m=()=>{var t;null==(t=c.value)||t.start()},f=()=>{var t;null==(t=c.value)||t.reset()};return(t,v)=>{const y=T(h("z-rolling-text"),O),_=T(h("z-button"),I),b=p,k=x("demo-block"),A=T(h("z-grid-item"),D),z=T(h("z-grid"),H),C=T(h("DemoPage"),R);return e(),r(C,{title:"RollingText"},{default:l((()=>[s(b,{class:"demo-rolling-text"},{default:l((()=>[s(k,{title:"基础用法"},{default:l((()=>[s(y,{"start-num":0,"target-num":123,"auto-start":a.value},null,8,["auto-start"]),s(b,{style:{"margin-top":"20rpx"}},{default:l((()=>[s(_,{onClick:v[0]||(v[0]=()=>a.value=!0),type:"primary"},{default:l((()=>[g(" 向下翻滚 ")])),_:1})])),_:1})])),_:1}),s(k,{title:"设置翻滚方向"},{default:l((()=>[s(y,{"start-num":0,"target-num":432,"auto-start":u.value,direction:"up"},null,8,["auto-start"]),s(b,{style:{"margin-top":"20rpx"}},{default:l((()=>[s(_,{onClick:v[1]||(v[1]=()=>u.value=!0),type:"primary"},{default:l((()=>[g("向上翻滚")])),_:1})])),_:1})])),_:1}),s(k,{title:"设置各数位停止顺序"},{default:l((()=>[s(y,{"start-num":0,"target-num":54321,"auto-start":i.value,"stop-order":"rtl"},null,8,["auto-start"]),s(b,{style:{"margin-top":"20rpx"}},{default:l((()=>[s(_,{onClick:v[2]||(v[2]=()=>i.value=!0),type:"primary"},{default:l((()=>[g("从个位停止")])),_:1})])),_:1})])),_:1}),s(k,{title:"翻转非数字内容"},{default:l((()=>[s(y,{"text-list":d.value,duration:1,"auto-start":n.value},null,8,["text-list","auto-start"]),s(b,{style:{"margin-top":"20rpx"}},{default:l((()=>[s(_,{onClick:v[3]||(v[3]=()=>n.value=!0),type:"primary"},{default:l((()=>[g("开始")])),_:1})])),_:1})])),_:1}),s(k,{title:"自定义样式"},{default:l((()=>[s(b,{class:"my-rolling-text"},{default:l((()=>[s(y,{"start-num":12345,"target-num":54321,"auto-start":o.value,height:54},null,8,["auto-start"])])),_:1})])),_:1}),s(k,{title:"自定义样式"},{default:l((()=>[s(b,{class:"my-rolling-text"},{default:l((()=>[s(y,{ref_key:"rollingTextRef",ref:c,"start-num":0,"target-num":54321,"auto-start":!1,height:54},null,512)])),_:1}),s(z,{clickable:"","column-num":2,"custom-style":{"margin-top":"20rpx"}},{default:l((()=>[s(A,{icon:"play-circle",text:"开始",onClick:m}),s(A,{icon:"reload",text:"重置",onClick:f})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-91725ca1"]]);export{Z as default};
