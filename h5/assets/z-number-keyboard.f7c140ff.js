import{d as e,k as t,o as s,c as o,w as a,a as l,n as r,G as n,p as u,e as i,F as d,b as c,t as y,i as p,_ as x,D as m,l as h,y as g,x as v,r as f,L as k,C as b}from"./index-f30f5313.js";import{n as w,i as B,j as _,c as K,z as T,t as z,s as A,m as S,A as C,a as D,d as I}from"./DemoPage.cf3c40e0.js";import{u as O}from"./use-touch.6469fcb8.js";const P=x(e({name:"ZNumberKeyboardKey",options:{virtualHost:!0},props:{type:String,text:w,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:x}){const[m,h]=B("key");_(m);const g=e,v=x,f=t(!1),k=O(),b=e=>{k.start(e),f.value=!0},w=e=>{k.move(e),k.direction.value&&(f.value=!1)},z=e=>{f.value&&(f.value=!1,v("press",g.text,g.type))};return(e,t)=>{const x=p;return s(),o(x,{class:r([n(h)("wrapper",{wider:g.wider})]),onTouchstartPassive:b,onTouchmovePassive:w,onTouchend:z,onTouchcancel:z},{default:a((()=>[l(x,{class:r([n(h)([g.color,{large:g.large,active:f.value,delete:"delete"===g.type}])])},{default:a((()=>[g.loading?(s(),o(K,{key:0,class:r(n(h)("loading-icon"))},null,8,["class"])):u("",!0),"delete"==g.type?(s(),i(d,{key:1},[g.text?(s(),i(d,{key:0},[c(y(g.text),1)],64)):(s(),o(T,{key:1,name:"delete-key",size:"56rpx"}))],64)):"extra"==g.type?(s(),i(d,{key:2},[g.text?(s(),i(d,{key:0},[c(y(g.text),1)],64)):(s(),o(T,{key:1,name:"hide-key",size:"56rpx"}))],64)):(s(),i(d,{key:3},[c(y(g.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-e3ee5701"]]),V=x(e({name:"ZNumberKeyboard",options:{virtualHost:!0},props:{show:Boolean,title:String,overlay:z,position:A("bottom"),overlayBackground:{type:Boolean,default:!1},theme:A("default"),zIndex:w,maxlength:S(1/0),modelValue:A(""),transition:z,blurOnClose:z,showDeleteKey:z,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:z,safeAreaInsetBottom:z,extraKey:{type:[String,Array],default:""}},emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t}){const[x,w]=B("number-keyboard");_(x);const K=k(),T=e;const z=t,A=()=>{const e=Array(9).fill("").map(((e,t)=>({text:t+1})));return T.randomKeyOrder&&function(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1)),o=e[t];e[t]=e[s],e[s]=o}}(e),e},S=m((()=>({position:"absolute",right:0,height:"100%",padding:"var(--z-number-keyboard-close-padding)",color:"var(--z-number-keyboard-close-color)",fontSize:"var(--z-number-keyboard-close-font-size)"}))),O=m((()=>({background:"transparent"}))),V=m((()=>T.closeButtonText&&"default"===T.theme)),j=m((()=>T.title||V.value||K.slots["title-left"])),L=m((()=>"custom"===T.theme?(()=>{const e=A(),{extraKey:t}=T,s=Array.isArray(t)?t:[t];return 1===s.length?e.push({text:0,wider:!0},{text:s[0],type:"extra"}):2===s.length&&e.push({text:s[0],type:"extra"},{text:0},{text:s[1],type:"extra"}),e})():[...A(),{text:T.extraKey,type:"extra"},{text:0},{text:T.showDeleteKey?T.deleteButtonText:"",type:T.showDeleteKey?"delete":""}])),H=()=>{T.show&&z("blur")},M=()=>{z("close"),T.blurOnClose&&H()},N=(e,t)=>{if(""===e)return void("extra"===t&&H());const s=T.modelValue;"delete"===t?(z("delete"),z("update:modelValue",s.slice(0,s.length-1))):"close"===t?M():s.length<+T.maxlength&&(z("input",e),z("update:modelValue",s+e))};return h((()=>T.show),(e=>{T.transition||z(e?"show":"hide")})),(t,x)=>{const m=b,h=p;return s(),o(I,{show:T.show,overlay:e.overlay,position:e.position,"overlay-back-groud":e.overlayBackground,"custom-style":O.value,onClose:M},{default:a((()=>[l(h,{style:g(n(C)(T.zIndex)),class:r(n(w)({unfit:!T.safeAreaInsetBottom,"with-title":j.value}))},{default:a((()=>[j.value?(s(),o(h,{key:0,class:r(n(w)("header"))},{default:a((()=>[n(K).slots["title-left"]?(s(),o(m,{key:0,class:r(n(w)("title-left"))},{default:a((()=>[v(t.$slots,"title-left",{},void 0,!0)])),_:3},8,["class"])):u("",!0),e.title?(s(),o(h,{key:1,class:r(n(w)("title"))},{default:a((()=>[c(y(e.title),1)])),_:1},8,["class"])):u("",!0),V.value?(s(),o(D,{key:2,type:"text","custom-style":S.value,onClick:M},{default:a((()=>[c(y(e.closeButtonText),1)])),_:1},8,["custom-style"])):u("",!0)])),_:3},8,["class"])):u("",!0),l(h,{class:r(n(w)("body"))},{default:a((()=>[l(h,{class:r(n(w)("keys"))},{default:a((()=>[(s(!0),i(d,null,f(L.value,((e,t)=>(s(),o(P,{key:t,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:N},null,8,["text","type","wider","color"])))),128))])),_:1},8,["class"]),"custom"===T.theme?(s(),o(h,{key:0,class:r(n(w)("sidebar"))},{default:a((()=>[T.showDeleteKey?(s(),o(P,{key:0,large:!0,text:T.deleteButtonText,type:"delete",onPress:N},null,8,["text"])):u("",!0),l(P,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:N},null,8,["text","loading"])])),_:1},8,["class"])):u("",!0)])),_:1},8,["class"])])),_:3},8,["style","class"])])),_:3},8,["show","overlay","position","overlay-back-groud","custom-style"])}}}),[["__scopeId","data-v-c94bb1e1"]]);export{V as _};
