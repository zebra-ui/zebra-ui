import{d as e,D as a,o as l,c as o,w as t,n as s,G as r,y as c,i as n,x as i,p as u,a as d,e as m,b as p,t as h,F as f,L as g,_ as k,k as b,m as v,E as y,M as V}from"./index-f30f5313.js";import{k as _,s as x,t as I,i as j,j as w,v as z,r as C,_ as T}from"./DemoPage.cf3c40e0.js";import{u as S}from"./use-id.cdfa0884.js";import{f as U,_ as $}from"./z-field.52f347ac.js";import{u as A}from"./z-toast.1a41a7b4.js";import"./z-dialog.a22a98be.js";import"./useParent.17bb91a9.js";import"./index.3b818c1b.js";import"./z-cell.b545d216.js";const L=k(e({name:"ZSearch",options:{virtualHost:!0},props:_({},U,{label:String,shape:x("square"),leftIcon:x("search"),clearable:I,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:k}){const b=g(),[v,y]=j("search");w(v);const V=e,_=k,x=S(),I=()=>{b.slots.action||(_("update:modelValue",""),_("cancel"))},C=e=>_("blur",e),T=e=>_("focus",e),U=e=>_("clear",e),A=e=>_("clickInput",e),L=e=>_("clickLeftIcon",e),B=e=>_("clickRightIcon",e),D=()=>{_("search",V.modelValue)},M=a((()=>{const e={flex:1,alignItems:"center",padding:"0 var(--z-padding-xs) 0 0",height:"var(--z-search-input-height)",backgroundColor:"transparent"};let a={};return a=V.errorMessage?{height:"auto",alignItems:"flex-start",paddingTop:"10rpx",paddingBottom:"10rpx"}:{},{...e,...a}})),P=e=>_("update:modelValue",e);return z({focus:()=>{},blur:()=>{}}),(e,a)=>{const g=n;return l(),o(g,{class:s(r(y)({"show-action":V.showAction})),style:c({background:V.background})},{default:t((()=>[r(b).slots.left?i(e.$slots,"left",{key:0},void 0,!0):u("",!0),d(g,{class:s(r(y)("content",V.shape))},{default:t((()=>[r(b).slots.label||V.label?(l(),o(g,{key:0,class:s(r(y)("label"))},{default:t((()=>[r(b).slots.label?i(e.$slots,"label",{key:0},void 0,!0):(l(),m(f,{key:1},[p(h(V.label),1)],64))])),_:3},8,["class"])):u("",!0),d($,{id:V.id||`${x}-input`,type:"text","confirm-type":"search","cell-style":M.value,"custom-style":{display:"flex",flex:"1"},"left-icon-color":"var(--z-search-left-icon-color)",border:!1,name:V.name,"label-width":"0","left-icon":V.leftIcon,"right-icon":V.rightIcon,autofocus:V.autofocus,clearable:V.clearable,maxlength:V.maxlength,formatter:V.formatter,"clear-icon":V.clearIcon,"model-value":V.modelValue,"input-align":V.inputAlign,placeholder:V.placeholder,autocomplete:V.autocomplete,autocapitalize:V.autocapitalize,autocorrect:V.autocorrect,"error-message":V.errorMessage,enterkeyhint:V.enterkeyhint,"clear-trigger":V.clearTrigger,"format-trigger":V.formatTrigger,spellcheck:V.spellcheck,error:V.error,disabled:V.disabled,readonly:V.readonly,onBlur:C,onFocus:T,onClear:U,onClickInput:A,onClickLeftIcon:L,onConfirm:D,onClickRightIcon:B,"onUpdate:modelValue":P},{default:t((()=>[r(b).slots["left-icon"]?i(e.$slots,"left-icon",{key:0},void 0,!0):u("",!0),r(b).slots["right-icon"]?i(e.$slots,"right-icon",{key:1},void 0,!0):u("",!0)])),_:3},8,["id","cell-style","name","left-icon","right-icon","autofocus","clearable","maxlength","formatter","clear-icon","model-value","input-align","placeholder","autocomplete","autocapitalize","autocorrect","error-message","enterkeyhint","clear-trigger","format-trigger","spellcheck","error","disabled","readonly"])])),_:3},8,["class"]),V.showAction?(l(),m("div",{key:1,class:s(r(y)("action")),onClick:I},[r(b).slots.action?i(e.$slots,"action",{key:0},void 0,!0):(l(),m(f,{key:1},[p(h(V.actionText||"取消"),1)],64))],2)):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-a4395de4"]]),B=e({__name:"search",setup(e){const a=A(),s=b(""),r=e=>a.showToast(e),c=()=>a.showToast("取消"),i=()=>a.showToast(s.value);return(e,a)=>{const u=C(v("z-search"),L),m=y("demo-block"),p=n,h=C(v("DemoPage"),T);return l(),o(h,{title:"Search"},{default:t((()=>[d(p,{class:"demo-search"},{default:t((()=>[d(m,{title:"基础用法"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),placeholder:"请输入搜索关键词"},null,8,["modelValue"])])),_:1}),d(m,{title:"事件监听"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),"show-action":"",placeholder:"请输入搜索关键词",onSearch:r,onCancel:c},null,8,["modelValue"])])),_:1}),d(m,{title:"搜索框内容对齐"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),placeholder:"请输入搜索关键词","input-align":"center"},null,8,["modelValue"])])),_:1}),d(m,{title:"禁用搜索框"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e),placeholder:"请输入搜索关键词",disabled:""},null,8,["modelValue"])])),_:1}),d(m,{title:"自定义背景色"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[4]||(a[4]=e=>s.value=e),placeholder:"请输入搜索关键词",shape:"round",background:"#4fc08d"},null,8,["modelValue"])])),_:1}),d(m,{title:"自定义按钮"},{default:t((()=>[d(u,{modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=e=>s.value=e),"show-action":"",label:"地址",placeholder:"请输入搜索关键词",onSearch:r},{action:t((()=>[V("div",{onClick:i},"搜索")])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}}});export{B as default};
