import{_ as e}from"./z-field.52f347ac.js";import{d as l,k as a,D as o,l as t,I as s,o as u,c as i,w as n,n as d,G as c,a as v,x as r,e as p,F as m,b as h,t as f,p as V,r as b,y as k,L as _,ad as x,i as y,C as w,S as C,_ as j,m as z,E as U,M as g}from"./index-f30f5313.js";import{l as I,t as T,s as O,n as F,i as S,j as $,k as D,z as H,M as N,r as P,d as E,_ as L}from"./DemoPage.cf3c40e0.js";import{a as M,_ as W}from"./z-tabs.b35f9c58.js";import{u as q}from"./area.6ad1509c.js";import{u as B}from"./z-toast.1a41a7b4.js";import"./z-dialog.a22a98be.js";import"./useParent.17bb91a9.js";import"./index.3b818c1b.js";import"./use-id.cdfa0884.js";import"./z-cell.b545d216.js";import"./useChildren.47d4431b.js";import"./use-touch.6469fcb8.js";import"./z-sticky.f67df7ce.js";const G=j(l({name:"ZCascader",options:{virtualHost:!0},props:{title:String,options:I(),closeable:T,swipeable:T,closeIcon:O("close"),showHeader:T,modelValue:F,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{emit:l}){const[j,z]=S("cascader");$(j);const U=_(),g=e,I=l,T=a([]),O=a(),F=a(0),P=o((()=>({color:"var(--z-cascader-close-icon-color)",fontSize:"var(--z-cascader-close-icon-size)"}))),{text:E,value:L,children:q}=D({text:"text",value:"value",children:"children"},g.fieldNames),B=e=>{const l={color:"var(--z-cascader-tab-color)",fontWeight:"var(--z-font-bold)"};return e.selected||(l.color="var(--z-cascader-unselected-tab-color)",l.fontWeight="normal"),l},G=o((()=>({fontSize:"var(--z-cascader-selected-icon-size)"}))),R=(e,l)=>!(!l||e[L]!==l[L]),Z=(e,l)=>e.color||(l?g.activeColor:void 0),A=(e,l)=>{for(const a of e){if(a[L]===l)return[a];if(a[q]){const e=A(a[q],l);if(e)return[a,...e]}}},J=()=>{const{options:e,modelValue:l}=g;if(void 0!==l){const a=A(e,l);if(a){let l=e;return T.value=a.map((e=>{const a={options:l,selected:e},o=l.find((l=>l[L]===e[L]));return o&&(l=o[q]),a})),l&&T.value.push({options:l,selected:null}),void x((()=>{F.value=T.value.length-1}))}}T.value=[{options:e,selected:null}],setTimeout((()=>{O.value&&O.value.resize()}),500)},K=()=>I("close"),Q=({name:e,title:l})=>I("clickTab",e,l);t(F,(()=>{setTimeout((()=>{O.value&&O.value.resize()}),500)})),t((()=>g.options),J,{deep:!0}),t((()=>g.modelValue),(e=>{if(void 0!==e){if(T.value.map((e=>{var l;return null==(l=e.selected)?void 0:l[L]})).includes(e))return}J()})),J();const X=a(!0);return s((()=>{X.value=!0})),(e,l)=>{const a=y,o=w,t=C;return u(),i(a,{class:d(c(z)())},{default:n((()=>[g.showHeader?(u(),i(a,{key:0,class:d(c(z)("header"))},{default:n((()=>[v(a,{class:d(c(z)("title"))},{default:n((()=>[c(U).slots.title?r(e.$slots,"title",{key:0},void 0,!0):(u(),p(m,{key:1},[h(f(g.title),1)],64))])),_:3},8,["class"]),g.closeable?(u(),i(H,{key:0,name:g.closeIcon,"custom-class":[c(N)],"custom-style":P.value,onClick:K},null,8,["name","custom-class","custom-style"])):V("",!0)])),_:3},8,["class"])):V("",!0),v(a,{class:d(c(z)("tabs"))},{default:n((()=>[v(M,{ref_key:"cascaderTabsRef",ref:O,active:F.value,"onUpdate:active":l[0]||(l[0]=e=>F.value=e),shrink:"",animated:"",color:g.activeColor,swipeable:g.swipeable,onClickTab:Q},{default:n((()=>[(u(!0),p(m,null,b(T.value,((l,s)=>(u(),i(W,{key:s,title:l.selected?l.selected[c(E)]:g.placeholder||"请选择","title-style":B(l)},{default:n((()=>[c(U).slots["options-top"]?r(e.$slots,"options-top",{key:0,tabIndex:s},void 0,!0):V("",!0),v(t,{class:d(c(z)("options")),"scroll-y":"true"},{default:n((()=>[(u(!0),p(m,null,b(l.options,((t,v)=>(u(),i(a,{key:v,class:d([c(z)("option",{selected:R(t,l.selected),disabled:t.disabled}),t.className]),style:k({color:Z(t,R(t,l.selected))}),onClick:()=>((e,l)=>{if(e.disabled)return;if(T.value[l].selected=e,T.value.length>l+1&&(T.value=T.value.slice(0,l+1)),e[q]){const a={options:e[q],selected:null};T.value[l+1]?T.value[l+1]=a:T.value.push(a),x((()=>{F.value++}))}const a=T.value.map((e=>e.selected)).filter(Boolean);I("update:modelValue",e[L]);const o={value:e[L],tabIndex:l,selectedOptions:a};I("change",o),e[q]||(O.value&&O.value.resize(),I("finish",o))})(t,s)},{default:n((()=>[c(U).slots.option?r(e.$slots,"option",{key:0,option:t,selected:R(t,l.selected)},void 0,!0):(u(),i(o,{key:1},{default:n((()=>[h(f(t[c(E)]),1)])),_:2},1024)),R(t,l.selected)?(u(),i(H,{key:2,name:"check","custom-style":G.value},null,8,["custom-style"])):V("",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:2},1032,["class"]),c(U).slots["options-bottom"]?r(e.$slots,"options-bottom",{key:1,tabIndex:s},void 0,!0):V("",!0)])),_:2},1032,["title","title-style"])))),128))])),_:3},8,["active","color","swipeable"])])),_:3},8,["class"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-2d32e82f"]]),R=j(l({__name:"cascader",setup(l){const o=B(),t=a(!1),s=a(!1),d=a(!1),c=a(!1),r=a(!1),p=a(!1),m=a(""),h=a(""),V=a(""),b=a(""),k=a(""),_=a(""),x=a(""),w=a(""),C=a(""),j=a(""),I=a(""),T=a(""),O=a([]),F=a([]),S=a([]),$=a([]),D=a([]),H=a([]),N={text:"name",value:"code",children:"items"},M=({selectedOptions:e})=>{t.value=!1,m.value=e.map((e=>e.text)).join("/")},W=({selectedOptions:e})=>{s.value=!1,h.value=e.map((e=>e.text)).join("/")},R=({selectedOptions:e})=>{d.value=!1,V.value=e.map((e=>e.text)).join("/")},Z=({selectedOptions:e})=>{c.value=!1,b.value=e.map((e=>e.name)).join("/")},A=({selectedOptions:e})=>{r.value=!1,k.value=e.map((e=>e.text)).join("/")},J=({selectedOptions:e})=>{p.value=!1,_.value=e.map((e=>e.text)).join("/")},K=({value:e})=>{e===S.value[0].value&&0===S.value[0].children.length&&(o.showLoadingToast("加载中..."),setTimeout((()=>{S.value[0].children=[{text:"杭州市",value:"330100"},{text:"宁波市",value:"330200"}],o.closeToast()}),1e3))};return(l,a)=>{const o=P(z("z-field"),e),B=P(z("z-cascader"),G),Q=P(z("z-popup"),E),X=U("demo-block"),Y=y,ee=P(z("DemoPage"),L);return u(),i(ee,{title:"Cascader"},{default:n((()=>[v(Y,{class:"demo-cascader"},{default:n((()=>[v(X,{title:"基础用法"},{default:n((()=>[v(o,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[1]||(a[1]=e=>(O.value=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100"}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100"}]}],void(t.value=!0)))},null,8,["modelValue"]),v(Q,{show:t.value,"onUpdate:show":a[4]||(a[4]=e=>t.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),title:"请选择所在地区",options:O.value,onClose:a[3]||(a[3]=e=>t.value=!1),onFinish:M},null,8,["modelValue","options"])])),_:1},8,["show"])])),_:1}),v(X,{title:"完整省市区数据"},{default:n((()=>[v(o,{modelValue:_.value,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[6]||(a[6]=e=>(H.value=q(),void(p.value=!0)))},null,8,["modelValue"]),v(Q,{show:p.value,"onUpdate:show":a[9]||(a[9]=e=>p.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:T.value,"onUpdate:modelValue":a[7]||(a[7]=e=>T.value=e),title:"请选择所在地区",options:H.value,onClose:a[8]||(a[8]=e=>p.value=!1),onFinish:J},null,8,["modelValue","options"])])),_:1},8,["show"])])),_:1}),v(X,{title:"自定义颜色"},{default:n((()=>[v(o,{modelValue:h.value,"onUpdate:modelValue":a[10]||(a[10]=e=>h.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[11]||(a[11]=e=>(F.value=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100"}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100"}]}],void(s.value=!0)))},null,8,["modelValue"]),v(Q,{show:s.value,"onUpdate:show":a[14]||(a[14]=e=>s.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:w.value,"onUpdate:modelValue":a[12]||(a[12]=e=>w.value=e),title:"请选择所在地区",options:F.value,"active-color":"#ee0a24",onClose:a[13]||(a[13]=e=>s.value=!1),onFinish:W},null,8,["modelValue","options"])])),_:1},8,["show"])])),_:1}),v(X,{title:"异步加载选项"},{default:n((()=>[v(o,{modelValue:V.value,"onUpdate:modelValue":a[15]||(a[15]=e=>V.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[16]||(a[16]=e=>(S.value=[{text:"浙江省",value:"330000",children:[]}],void(d.value=!0)))},null,8,["modelValue"]),v(Q,{show:d.value,"onUpdate:show":a[19]||(a[19]=e=>d.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:C.value,"onUpdate:modelValue":a[17]||(a[17]=e=>C.value=e),title:"请选择所在地区",options:S.value,onClose:a[18]||(a[18]=e=>d.value=!1),onChange:K,onFinish:R},null,8,["modelValue","options"])])),_:1},8,["show"])])),_:1}),v(X,{title:"自定义字段名"},{default:n((()=>[v(o,{modelValue:b.value,"onUpdate:modelValue":a[20]||(a[20]=e=>b.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[21]||(a[21]=e=>($.value=[{name:"浙江省",code:"330000",items:[{name:"杭州市",code:"330100"}]},{name:"江苏省",code:"320000",items:[{name:"南京市",code:"320100"}]}],void(c.value=!0)))},null,8,["modelValue"]),v(Q,{show:c.value,"onUpdate:show":a[24]||(a[24]=e=>c.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:j.value,"onUpdate:modelValue":a[22]||(a[22]=e=>j.value=e),title:"请选择所在地区",options:$.value,"field-names":N,onClose:a[23]||(a[23]=e=>c.value=!1),onFinish:Z},null,8,["modelValue","options"])])),_:1},8,["show"])])),_:1}),v(X,{title:"自定义选项上方内容"},{default:n((()=>[v(o,{modelValue:k.value,"onUpdate:modelValue":a[25]||(a[25]=e=>k.value=e),"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区",onClick:a[26]||(a[26]=e=>(D.value=[{text:"浙江省",value:"330000",children:[{text:"杭州市",value:"330100"}]},{text:"江苏省",value:"320000",children:[{text:"南京市",value:"320100"}]}],void(r.value=!0)))},null,8,["modelValue"]),v(Q,{show:r.value,"onUpdate:show":a[29]||(a[29]=e=>r.value=e),round:"",position:"bottom"},{default:n((()=>[v(B,{modelValue:I.value,"onUpdate:modelValue":a[27]||(a[27]=e=>I.value=e),title:"请选择所在地区",options:D.value,onClose:a[28]||(a[28]=e=>r.value=!1),onFinish:A},{"options-top":n((({tabIndex:e})=>[g("div",{class:"current-level"},"当前为第 "+f(e+1)+" 级",1)])),_:1},8,["modelValue","options"])])),_:1},8,["show"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-3a1f1105"]]);export{R as default};
