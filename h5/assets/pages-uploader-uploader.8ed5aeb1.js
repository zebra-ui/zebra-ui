import{_ as e}from"./z-uploader.92e3a827.js";import{d as a,k as l,m as u,E as t,o,c as s,w as d,a as i,b as m,t as r,i as p,_ as n}from"./index-f30f5313.js";import{r as c,a as f,_ as g}from"./DemoPage.cf3c40e0.js";import{u as b}from"./z-toast.1a41a7b4.js";import"./z-dialog.a22a98be.js";import"./index.3b818c1b.js";import"./z-image.8605c909.js";const v=n(a({__name:"uploader",setup(a){const n=b(),v=e=>{console.log(e)},z=l([]),w=l([]),_=l([{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe1.jpg"},{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe2.jpg"}]),V=l([{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe1.jpg"},{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe2.jpg"}]),j=l([{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe1.jpg",status:"uploading",message:"上传中..."},{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe2.jpg",status:"failed",message:"上传失败"}]),h=l([{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe1.jpg",deletable:!0,beforeDelete:()=>{n.showToast("删除前置处理")}},{url:"https://cdn.zebraui.com/zebra-ui/images/swipe-demo/swipe2.jpg"}]),U=e=>{e.status="uploading",e.message="上传中...",setTimeout((()=>{e.status="failed",e.message="上传失败"}),1e3)},x=()=>{n.showToast("文件大小不能超过 500kb")},T=e=>"image"!=e.type||(n.showToast("上传图片拦截"),!1),k=e=>new Promise(((a,l)=>{"image"!==e.type?(n.showToast("请上传图片格式文件"),l()):(e.custom={name:"zebra-image-test"},a(e))}));return(a,l)=>{const n=c(u("z-uploader"),e),b=t("demo-block"),y=c(u("z-button"),f),D=p,P=c(u("DemoPage"),g);return o(),s(P,{title:"Uploader"},{default:d((()=>[i(D,{class:"demo-uploader"},{default:d((()=>[i(b,{title:"基础用法"},{default:d((()=>[i(n,{"after-read":v})])),_:1}),i(b,{title:"文件预览"},{default:d((()=>[i(n,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),multiple:""},null,8,["modelValue"])])),_:1}),i(b,{title:"上传状态"},{default:d((()=>[i(n,{modelValue:j.value,"onUpdate:modelValue":l[1]||(l[1]=e=>j.value=e),"after-read":U},null,8,["modelValue"])])),_:1}),i(b,{title:"限制上传数量"},{default:d((()=>[i(n,{modelValue:z.value,"onUpdate:modelValue":l[2]||(l[2]=e=>z.value=e),multiple:"","max-count":2},null,8,["modelValue"])])),_:1}),i(b,{title:"限制上传大小"},{default:d((()=>[i(n,{modelValue:w.value,"onUpdate:modelValue":l[3]||(l[3]=e=>w.value=e),multiple:"","max-size":512e3,onOversize:x},null,8,["modelValue"])])),_:1}),i(b,{title:"自定义上传样式"},{default:d((()=>[i(n,null,{default:d((()=>[i(y,{icon:"upload",type:"primary"},{default:d((()=>[m("上传文件")])),_:1})])),_:1})])),_:1}),i(b,{title:"自定义预览样式"},{default:d((()=>[i(n,{modelValue:_.value,"onUpdate:modelValue":l[4]||(l[4]=e=>_.value=e)},{"preview-cover":d((({file:e})=>[i(D,{class:"preview-cover z-ellipsis"},{default:d((()=>{var a;return[m(r((null==e?void 0:e.url)?null==e?void 0:e.url:null==(a=e.file)?void 0:a.url),1)]})),_:2},1024)])),_:1},8,["modelValue"])])),_:1}),i(b,{title:"自定义预览大小"},{default:d((()=>[i(n,{modelValue:_.value,"onUpdate:modelValue":l[5]||(l[5]=e=>_.value=e),"preview-size":"180rpx"},null,8,["modelValue"])])),_:1}),i(b,{title:"上传前置处理"},{default:d((()=>[i(n,{"before-read":T}),i(n,{"before-read":k})])),_:1}),i(b,{title:"禁用文件上传"},{default:d((()=>[i(n,{disabled:""})])),_:1}),i(b,{title:"自定义单个图片预览"},{default:d((()=>[i(n,{modelValue:h.value,"onUpdate:modelValue":l[6]||(l[6]=e=>h.value=e),deletable:!1},null,8,["modelValue"])])),_:1}),i(b,{title:"开启覆盖上传"},{default:d((()=>[i(n,{modelValue:V.value,"onUpdate:modelValue":l[7]||(l[7]=e=>V.value=e),reupload:"","max-count":"2"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-29700dd1"]]);export{v as default};
