import{d as t,D as e,o as s,c as a,w as l,e as r,F as i,r as n,n as h,G as g,y as o,b as u,t as c,C as d,i as y,_ as p,k as _,m as f,E as k,a as v}from"./index-f30f5313.js";import{t as w,S as m,s as x,i as S,j as b,r as j,_ as z}from"./DemoPage.cf3c40e0.js";const C=p(t({name:"ZHighlight",options:{virtualHost:!0},props:{autoEscape:w,caseSensitive:Boolean,highlightStyle:Object,highlightClass:String,keywords:m([String,Array]),sourceString:x(""),unhighlightStyle:Object,unhighlightClass:String},setup(t){const[p,_]=S("highlight");b(p);const f=t,k=e((()=>{const{autoEscape:t,caseSensitive:e,keywords:s,sourceString:a}=f,l=e?"g":"gi";let r=(Array.isArray(s)?s:[s]).filter((t=>t)).reduce(((e,s)=>{t&&(s=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const r=new RegExp(s,l);let i;for(;i=r.exec(a);){const t=i.index,s=r.lastIndex;t>=s?r.lastIndex++:e.push({start:t,end:s,highlight:!0})}return e}),[]);r=r.sort(((t,e)=>t.start-e.start)).reduce(((t,e)=>{const s=t[t.length-1];if(!s||e.start>s.end){const a=s?s.end:0,l=e.start;a!==l&&t.push({start:a,end:l,highlight:!1}),t.push(e)}else s.end=Math.max(s.end,e.end);return t}),[]);const i=r[r.length-1];return i&&i.end<a.length&&r.push({start:i.end,end:a.length,highlight:!1}),r})),v=t=>f.sourceString.slice(t.start,t.end);return(e,p)=>{const f=d,w=y;return s(),a(w,{class:h(g(_)())},{default:l((()=>[(s(!0),r(i,null,n(k.value,((e,n)=>(s(),r(i,{key:n},[e.highlight?(s(),a(f,{key:0,class:h([g(_)("tag"),t.highlightClass]),style:o(t.highlightStyle)},{default:l((()=>[u(c(v(e)),1)])),_:2},1032,["class","style"])):(s(),a(f,{key:1,style:o(t.unhighlightStyle),class:h(t.unhighlightClass)},{default:l((()=>[u(c(v(e)),1)])),_:2},1032,["style","class"]))],64)))),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-18e52932"]]),E=p(t({__name:"highlight",setup(t){const e=_("zebra-swiper是基于uniapp开发的一款移动端轮播组件。"),r=_("zebra-swiper"),i=_(["zebra-swiper","uniapp","移动端"]);return(t,n)=>{const h=j(f("z-highlight"),C),g=y,o=k("demo-block"),u=j(f("DemoPage"),z);return s(),a(u,{title:"Highlight"},{default:l((()=>[v(g,{class:"demo-highlight"},{default:l((()=>[v(o,{title:"基础用法"},{default:l((()=>[v(g,{class:"text-content"},{default:l((()=>[v(h,{keywords:r.value,"source-string":e.value},null,8,["keywords","source-string"])])),_:1})])),_:1}),v(o,{title:"多字符匹配"},{default:l((()=>[v(g,{class:"text-content"},{default:l((()=>[v(h,{keywords:i.value,"source-string":e.value},null,8,["keywords","source-string"])])),_:1})])),_:1}),v(o,{title:"自定义类名及样式"},{default:l((()=>[v(g,{class:"text-content"},{default:l((()=>[v(h,{keywords:i.value,"source-string":e.value,"highlight-class":"text-content-custom"},null,8,["keywords","source-string"])])),_:1}),v(g,{class:"text-content"},{default:l((()=>[v(h,{keywords:i.value,"source-string":e.value,"highlight-style":{color:"var(--z-red)"}},null,8,["keywords","source-string","highlight-style"])])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-4b25e67d"]]);export{E as default};
