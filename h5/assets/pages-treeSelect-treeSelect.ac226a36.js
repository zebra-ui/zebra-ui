import{d as e,D as t,o as a,c as i,w as s,a as d,e as l,F as c,r as n,n as v,G as u,b as o,t as m,x as r,p as x,y as p,L as f,i as I,_,k as y,m as h,E as b}from"./index-f30f5313.js";import{m as k,l as g,s as A,i as z,j as U,z as j,y as C,r as N,_ as S}from"./DemoPage.cf3c40e0.js";import{a as w,z as D}from"./z-sidebar.1d584051.js";import"./useParent.17bb91a9.js";import"./useChildren.47d4431b.js";const P=_(e({name:"ZTreeSelect",options:{virtualHost:!0},props:{max:k(1/0),items:g(),height:k(300),selectedIcon:A("check"),mainActiveIndex:k(0),activeId:{type:[Number,String,Array],default:0}},emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:_}){const y=f(),[h,b]=z("tree-select");U(h);const k=e,g=_,A=e=>Array.isArray(k.activeId)?k.activeId.includes(e):k.activeId===e,N=t((()=>k.items[+k.mainActiveIndex]||{})),S=e=>{g("update:mainActiveIndex",e)},P=e=>g("clickNav",e);return(t,f)=>{const _=I;return a(),i(_,{class:v(u(b)()),style:p({height:u(C)(k.height)})},{default:s((()=>[d(w,{"model-value":e.mainActiveIndex,"custom-style":{flex:"1","overflow-y":"auto",background:"var(--z-tree-select-nav-background)"},onChange:S},{default:s((()=>[(a(!0),l(c,null,n(k.items,((e,t)=>(a(),i(_,{key:t,class:v([u(b)("nav-item"),e.className])},{default:s((()=>[d(D,{dot:e.dot,badge:e.badge,disabled:e.disabled,"custom-style":{padding:"var(--z-tree-select-nav-item-padding)"},onClick:P},{title:s((()=>[o(m(e.text),1)])),_:2},1032,["dot","badge","disabled","custom-style"])])),_:2},1032,["class"])))),128))])),_:1},8,["model-value","custom-style"]),d(_,{class:v(u(b)("content"))},{default:s((()=>[u(y).slots.content?r(t.$slots,"content",{key:0},void 0,!0):(a(),l(c,{key:1},[N.value.children?(a(!0),l(c,{key:0},n(N.value.children,((e,t)=>(a(),i(_,{key:t,class:v(["z-ellipsis",u(b)("item",{active:A(e.id),disabled:e.disabled})]),onClick:t=>(e=>{if(e.disabled)return;let t;if(Array.isArray(k.activeId)){t=k.activeId.slice();const a=t.indexOf(e.id);-1!==a?t.splice(a,1):t.length<+k.max&&t.push(e.id)}else t=e.id;g("update:activeId",t),g("clickItem",e)})(e)},{default:s((()=>[o(m(e.text)+" ",1),A(e.id)?(a(),i(_,{key:0,class:v(u(b)("selected"))},{default:s((()=>[d(j,{name:k.selectedIcon},null,8,["name"])])),_:1},8,["class"])):x("",!0)])),_:2},1032,["class","onClick"])))),128)):x("",!0)],64))])),_:3},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-162a5d74"]]),T=_(e({__name:"treeSelect",setup(e){const t=y(1),l=y(0),c=y([1,2]),n=y(0),v=y(0),u=y(1),r=y(0),p=y([{text:"浙江",children:[{text:"杭州",id:1},{text:"温州",id:2},{text:"宁波",id:3,disabled:!0}]},{text:"江苏",children:[{text:"南京",id:4},{text:"无锡",id:5},{text:"徐州",id:6}]},{text:"福建",disabled:!0}]),f=y([{text:"分组 1"},{text:"分组 2"}]),_=y([{text:"浙江",children:[{text:"杭州",id:1},{text:"温州",id:2},{text:"宁波",id:3,disabled:!0}],dot:!0},{text:"江苏",children:[{text:"南京",id:4},{text:"无锡",id:5},{text:"徐州",id:6}],badge:5}]);return(e,y)=>{const k=N(h("z-tree-select"),P),g=b("demo-block"),A=I,z=N(h("DemoPage"),S);return a(),i(z,{title:"TreeSelect"},{default:s((()=>[d(A,{class:"demo-tree-select"},{default:s((()=>[d(g,{title:"单选"},{default:s((()=>[d(k,{"active-id":t.value,"onUpdate:activeId":y[0]||(y[0]=e=>t.value=e),"main-active-index":l.value,"onUpdate:mainActiveIndex":y[1]||(y[1]=e=>l.value=e),items:p.value},null,8,["active-id","main-active-index","items"])])),_:1}),d(g,{title:"多选"},{default:s((()=>[d(k,{"active-id":c.value,"onUpdate:activeId":y[2]||(y[2]=e=>c.value=e),"main-active-index":n.value,"onUpdate:mainActiveIndex":y[3]||(y[3]=e=>n.value=e),items:p.value},null,8,["active-id","main-active-index","items"])])),_:1}),d(g,{title:"自定义内容"},{default:s((()=>[d(k,{"main-active-index":v.value,"onUpdate:mainActiveIndex":y[4]||(y[4]=e=>v.value=e),items:f.value,height:"300rpx"},{content:s((()=>[0===v.value?(a(),i(A,{key:0,class:"custom-content1"},{default:s((()=>[o(" 当前选中的下标"+m(v.value),1)])),_:1})):x("",!0),1===v.value?(a(),i(A,{key:1,class:"custom-content2"},{default:s((()=>[o(" 当前选中的下标"+m(v.value),1)])),_:1})):x("",!0)])),_:1},8,["main-active-index","items"])])),_:1}),d(g,{title:"徽标提示"},{default:s((()=>[d(k,{"active-id":u.value,"onUpdate:activeId":y[5]||(y[5]=e=>u.value=e),"main-active-index":r.value,"onUpdate:mainActiveIndex":y[6]||(y[6]=e=>r.value=e),height:"55vw",items:_.value},null,8,["active-id","main-active-index","items"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-f60feab8"]]);export{T as default};
