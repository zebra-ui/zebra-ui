import{d as a,D as e,o as t,c as s,w as o,a as l,ab as r,G as n,x as i,p as c,n as d,y as u,L as b,i as p,_ as f,k as m,I as v}from"./index-f30f5313.js";import{u as g}from"./useParent.17bb91a9.js";import{n as y,i as x,j as h,b as k,z,t as _,m as B,y as C,B as I,A as j,C as A,x as P,D as $}from"./DemoPage.cf3c40e0.js";import{u as w}from"./useChildren.47d4431b.js";const S=f(a({name:"ZTabbarItem",options:{virtualHost:!0},props:{dot:Boolean,icon:String,name:y,badge:y,badgeProps:Object,iconPrefix:String},emits:["click"],setup(a,{emit:f}){const[m,v]=x("tabbar-item");h(m);const y=b(),_=a,B=f,{parent:C,index:I}=g("z-tabbar"),j=e((()=>{const{modelValue:a}=C.props;return(_.name?_.name:I.value)===a})),A=a=>{j.value||C.setActive(_.name?_.name:I.value,I,(()=>{})),B("click",a)},P=e((()=>({"margin-bottom":"var(--z-tabbar-item-icon-margin-bottom)","font-size":"var(--z-tabbar-item-icon-size)"}))),$=e((()=>({display:"block"})));return(e,b)=>{const f=p;return t(),s(f,{class:d(n(v)({active:j.value,animate:n(C).props.animate})),style:u({color:j.value?n(C).props.activeColor:n(C).props.inactiveColor}),onClick:A},{default:o((()=>[l(k,r({dot:a.dot,"wrapper-style":P.value,content:a.badge},_.badgeProps),{default:o((()=>[n(y).slots.icon?i(e.$slots,"icon",{key:0,active:j.value},void 0,!0):_.icon?(t(),s(z,{key:1,name:_.icon,"custom-style":$.value,"class-prefix":_.iconPrefix},null,8,["name","custom-style","class-prefix"])):c("",!0)])),_:3},16,["dot","wrapper-style","content"]),l(f,{class:d(n(v)("text"))},{default:o((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-028744dd"]]),V=f(a({name:"ZTabbar",options:{virtualHost:!0},props:{route:Boolean,fixed:_,border:_,zIndex:y,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:B(0),safeAreaInsetBottom:{type:Boolean,default:null},background:Boolean,float:Boolean,animate:Boolean},emits:["change","update:modelValue"],setup(a,{emit:r}){const[f,g]=x("tabbar"),y=b(),h=a,k=r,z=m(0),{children:_,linkChildren:B}=w(f),S=()=>h.safeAreaInsetBottom?h.safeAreaInsetBottom:h.fixed,V=m(0),D=m(0),H=m(0),T=e((()=>({...{width:C(D.value),transform:`translateX(${H.value}px)`,"transition-duration":"0.3s"}}))),Z=e((()=>{const a={};return h.float&&(0==z.value&&(a["border-top-left-radius"]="50rpx",a["border-bottom-left-radius"]="50rpx"),z.value==_.length-1&&(a["border-top-right-radius"]="50rpx",a["border-bottom-right-radius"]="50rpx")),{...a}}));return B({props:h,setActive:(a,e,t)=>{$(h.beforeChange,{args:[a],done(){h.background&&(H.value=D.value*e.value),z.value=e.value,k("update:modelValue",a),k("change",a),t()}})}}),v((()=>{A((()=>{P(y,".z-tabbar-rect").then((a=>{V.value=a.height,D.value=a.width/_.length}))}))})),(e,r)=>{const b=p;return h.fixed&&h.placeholder?(t(),s(b,{key:0,class:d(n(g)("placeholder")),style:u({height:V.value?`${V.value}px`:void 0})},{default:o((()=>[l(b,{class:d(["z-tabbar-rect",[n(g)({fixed:a.fixed,float:h.float}),{[n(I)]:a.border&&!h.float,"z-safe-area-bottom":S()&&!h.float}]]),style:u(n(j)(a.zIndex))},{default:o((()=>[i(e.$slots,"default",{},void 0,!0),h.background?(t(),s(b,{key:0,class:d(n(g)("background")),style:u(T.value)},{default:o((()=>[l(b,{class:d(n(g)("background--content")),style:u(Z.value)},null,8,["class","style"])])),_:1},8,["class","style"])):c("",!0)])),_:3},8,["style","class"])])),_:3},8,["class","style"])):(t(),s(b,{key:1,class:d(["z-tabbar-rect",[n(g)({fixed:a.fixed,float:h.float}),{[n(I)]:a.border&&!h.float,"z-safe-area-bottom":S()&&!h.float}]]),style:u(n(j)(a.zIndex))},{default:o((()=>[i(e.$slots,"default",{},void 0,!0),h.background?(t(),s(b,{key:0,class:d(n(g)("background")),style:u(T.value)},{default:o((()=>[l(b,{class:d(n(g)("background--content")),style:u(Z.value)},null,8,["class","style"])])),_:1},8,["class","style"])):c("",!0)])),_:3},8,["style","class"]))}}}),[["__scopeId","data-v-2a06469c"]]);export{S as _,V as a};
