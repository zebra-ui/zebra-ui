import{d as s,k as o,D as e,l as a,I as r,ad as l,o as n,c as i,w as t,a as c,n as d,G as u,x as g,p as m,y as p,L as f,q as h,i as y,_ as v}from"./index-f30f5313.js";import{n as k,t as w,s as x,i as S,j as _,y as b,I as z,z as I}from"./DemoPage.cf3c40e0.js";const L=v(s({name:"ZImage",options:{virtualHost:!0},props:{src:String,alt:String,mode:String,position:String,round:Boolean,block:Boolean,width:k,height:k,radius:k,iconSize:{type:[Number,String],default:"64rpx"},showError:w,errorIcon:x("error-fill"),iconPrefix:String,showLoading:w,loadingIcon:x("image-fill"),showMenuByLongpress:Boolean,customStyle:Object},emits:["load","error","click"],setup(s,{emit:v}){const[k,w]=S("image");_(k);const x=f(),L=s,B=v,j=o(!1),P=o(!0),E=e((()=>{const s={width:b(L.width),height:b(L.height)};return z(L.radius)&&(s.overflow="hidden",s.borderRadius=b(L.radius)),{...s,...L.customStyle}}));a((()=>L.src),(()=>{j.value=!1,P.value=!0}));const $=s=>{P.value&&L.src&&(P.value=!1,B("load",s))},D=s=>{j.value=!0,P.value=!1,B("error",s)},M=()=>{B("click")};return r((()=>{l((()=>{$(null)}))})),(s,o)=>{const e=h,a=y;return n(),i(a,{class:d(u(w)({round:L.round,block:L.block})),style:p(E.value),onClick:M},{default:t((()=>[c(e,{class:d(u(w)("content")),src:L.src,mode:L.mode,"show-menu-by-longpress":L.showMenuByLongpress,onLoad:$,onError:D},null,8,["class","src","mode","show-menu-by-longpress"]),P.value&&L.showLoading?(n(),i(a,{key:0,class:d(u(w)("loading"))},{default:t((()=>[u(x).slots.loading?g(s.$slots,"loading",{key:0},void 0,!0):(n(),i(a,{key:1,class:d(u(w)("loading-icon"))},{default:t((()=>[c(I,{name:L.loadingIcon,size:L.iconSize,"class-prefix":L.iconPrefix},null,8,["name","size","class-prefix"])])),_:1},8,["class"]))])),_:3},8,["class"])):m("",!0),j.value&&L.showError?(n(),i(a,{key:1,class:d(u(w)("error"))},{default:t((()=>[u(x).slots.error?g(s.$slots,"error",{key:0},void 0,!0):(n(),i(a,{key:1,class:d(u(w)("error-icon"))},{default:t((()=>[c(I,{name:L.errorIcon,size:L.iconSize,"class-prefix":L.iconPrefix},null,8,["name","size","class-prefix"])])),_:1},8,["class"]))])),_:3},8,["class"])):m("",!0),g(s.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-dde9e852"]]);export{L as _};
